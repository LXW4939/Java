使用32位的整数来存放线程池的状态和线程池的线程数，其中高3位存放线程池的状态，低29位存放线程数

```
private final AtomicInteger ctl = new AtomicInteger(ctlOf(RUNNING, 0));
// 运算结果为 111跟29个0：111 00000000000000000000000000000
private static final int RUNNING    = -1 << COUNT_BITS;
// 000 00000000000000000000000000000
private static final int SHUTDOWN   =  0 << COUNT_BITS;
// 001 00000000000000000000000000000
private static final int STOP       =  1 << COUNT_BITS;
// 010 00000000000000000000000000000
private static final int TIDYING    =  2 << COUNT_BITS;
// 011 00000000000000000000000000000
private static final int TERMINATED =  3 << COUNT_BITS;
```

running-&gt;shutdown: 执行shutdown

running/shutdown-&gt;stop: shutdownNow

shutdown-&gt;tidying: 任务队列和线程池清空后

stop-&gt;tidying: 任务队列清空后

tidying-&gt;terminated: 当treminated\(\)方法结束后



